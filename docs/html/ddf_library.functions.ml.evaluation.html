
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>ML.Evaluation &#8212; DDF</title>
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.3.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="ML.Feature" href="ddf_library.functions.ml.feature.html" />
    <link rel="prev" title="ML.Clustering" href="ddf_library.functions.ml.clustering.html" /> 
  </head>
  <body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="ddf_library.functions.ml.feature.html" title="ML.Feature"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="ddf_library.functions.ml.clustering.html" title="ML.Clustering"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">DDF</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="api.html" >API Reference</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="ddf_library.html" accesskey="U">DDF operations</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-ddf_library.functions.ml.evaluation">
<span id="ml-evaluation"></span><h1>ML.Evaluation<a class="headerlink" href="#module-ddf_library.functions.ml.evaluation" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="ddf_library.functions.ml.evaluation.BinaryClassificationMetrics">
<em class="property">class </em><code class="descclassname">ddf_library.functions.ml.evaluation.</code><code class="descname">BinaryClassificationMetrics</code><span class="sig-paren">(</span><em>label_col</em>, <em>pred_col</em>, <em>ddf_var</em>, <em>true_label=1</em><span class="sig-paren">)</span><a class="headerlink" href="#ddf_library.functions.ml.evaluation.BinaryClassificationMetrics" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">ddf_library.bases.ddf_base.DDFSketch</span></code></p>
<p>Evaluator for binary classification.</p>
<ul class="simple">
<li>True Positive (TP) - label is positive and prediction is also positive</li>
<li>True Negative (TN) - label is negative and prediction is also negative</li>
<li>False Positive (FP) - label is negative but prediction is positive</li>
<li>False Negative (FN) - label is positive but prediction is negative</li>
</ul>
<dl class="docutils">
<dt>Metrics:</dt>
<dd><ul class="first last simple">
<li>Accuracy</li>
<li>Precision (Positive Predictive Value) = tp / (tp + fp)</li>
<li>Recall (True Positive Rate) = tp / (tp + fn)</li>
<li>F-measure = F1 = 2 * (precision * recall) / (precision + recall)</li>
<li>Confusion matrix</li>
</ul>
</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">bin_metrics</span> <span class="o">=</span> <span class="n">BinaryClassificationMetrics</span><span class="p">(</span><span class="n">label_col</span><span class="o">=</span><span class="s1">&#39;label&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                          <span class="n">pred_col</span><span class="o">=</span><span class="s1">&#39;pred&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">ddf1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">bin_metrics</span><span class="o">.</span><span class="n">get_metrics</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># or using:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">bin_metrics</span><span class="o">.</span><span class="n">confusion_matrix</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">bin_metrics</span><span class="o">.</span><span class="n">accuracy</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">bin_metrics</span><span class="o">.</span><span class="n">recall</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">bin_metrics</span><span class="o">.</span><span class="n">precision</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">bin_metrics</span><span class="o">.</span><span class="n">f1</span><span class="p">)</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>label_col</strong> – Column name of true label values;</li>
<li><strong>pred_col</strong> – Column name of predicted label values;</li>
<li><strong>ddf_var</strong> – DDF;</li>
<li><strong>true_label</strong> – Value of True label (default is 1).</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="ddf_library.functions.ml.evaluation.BinaryClassificationMetrics.get_metrics">
<code class="descname">get_metrics</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ddf_library.functions.ml.evaluation.BinaryClassificationMetrics.get_metrics" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A pandas DataFrame with metrics.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ddf_library.functions.ml.evaluation.MultilabelMetrics">
<em class="property">class </em><code class="descclassname">ddf_library.functions.ml.evaluation.</code><code class="descname">MultilabelMetrics</code><span class="sig-paren">(</span><em>label_col</em>, <em>pred_col</em>, <em>ddf_var</em><span class="sig-paren">)</span><a class="headerlink" href="#ddf_library.functions.ml.evaluation.MultilabelMetrics" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">ddf_library.bases.ddf_base.DDFSketch</span></code></p>
<p>Evaluator for multilabel classification.</p>
<ul class="simple">
<li>True Positive (TP) - label is positive and prediction is also positive</li>
<li>True Negative (TN) - label is negative and prediction is also negative</li>
<li>False Positive (FP) - label is negative but prediction is positive</li>
<li>False Negative (FN) - label is positive but prediction is negative</li>
</ul>
<dl class="docutils">
<dt>Metrics:</dt>
<dd><ul class="first last simple">
<li>Accuracy</li>
<li>Precision (Positive Predictive Value) = tp / (tp + fp)</li>
<li>Recall (True Positive Rate) = tp / (tp + fn)</li>
<li>F-measure = F1 = 2 * (precision * recall) / (precision + recall)</li>
<li>Confusion matrix</li>
<li>Precision_recall table</li>
</ul>
</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">metrics_multi</span> <span class="o">=</span> <span class="n">MultilabelMetrics</span><span class="p">(</span><span class="n">label_col</span><span class="o">=</span><span class="s1">&#39;label&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                  <span class="n">pred_col</span><span class="o">=</span><span class="s1">&#39;prediction&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">ddf1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">metrics_multi</span><span class="o">.</span><span class="n">get_metrics</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># or using:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">metrics_multi</span><span class="o">.</span><span class="n">confusion_matrix</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">metrics_multi</span><span class="o">.</span><span class="n">precision_recall</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">metrics_multi</span><span class="o">.</span><span class="n">accuracy</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">metrics_multi</span><span class="o">.</span><span class="n">recall</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">metrics_multi</span><span class="o">.</span><span class="n">precision</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">metrics_multi</span><span class="o">.</span><span class="n">f1</span><span class="p">)</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>label_col</strong> – Column name of true label values;</li>
<li><strong>pred_col</strong> – Column name of predicted label values;</li>
<li><strong>ddf_var</strong> – DDF.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="ddf_library.functions.ml.evaluation.MultilabelMetrics.get_metrics">
<code class="descname">get_metrics</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ddf_library.functions.ml.evaluation.MultilabelMetrics.get_metrics" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A pandas DataFrame with metrics.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ddf_library.functions.ml.evaluation.RegressionMetrics">
<em class="property">class </em><code class="descclassname">ddf_library.functions.ml.evaluation.</code><code class="descname">RegressionMetrics</code><span class="sig-paren">(</span><em>col_features</em>, <em>label_col</em>, <em>pred_col</em>, <em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#ddf_library.functions.ml.evaluation.RegressionMetrics" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">ddf_library.bases.ddf_base.DDFSketch</span></code></p>
<p>RegressionModelEvaluation’s methods.</p>
<ul class="simple">
<li><strong>Mean Squared Error (MSE):</strong> Is an estimator measures the average of the
squares of the errors or deviations, that is, the difference between the
estimator and what is estimated. MSE is a risk function, corresponding
to the expected value of the squared error loss or quadratic loss. In
other words, MSE tells you how close a regression line is to a set of
points.</li>
<li><strong>Root Mean Squared Error (RMSE):</strong> Is a frequently used measure of the
differences between values (sample and population values) predicted by a
model or an estimator and the values actually observed. The RMSE
represents the sample standard deviation of the differences between
predicted values and observed values.</li>
<li><strong>Mean Absolute Error (MAE):</strong> Is a measure of difference between two
continuous variables. Assume X and Y are variables of paired
observations that express the same phenomenon. Is a quantity used to
measure how close forecasts or predictions are to the eventual outcomes.</li>
<li><strong>Coefficient of Determination (R2):</strong> Iis the proportion of the
variance in the dependent variable that is predictable from the
independent variable(s). Best possible score is 1.0 and it can be
negative (because the model can be arbitrarily worse). A constant model
that always predicts the expected value of y, disregarding the input
features, would get a R^2 score of 0.0.</li>
<li><strong>Explained Variance:</strong> Measures the proportion to which a mathematical
model accounts for the variation (dispersion) of a given data set.</li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">reg_metrics</span> <span class="o">=</span> <span class="n">RegressionMetrics</span><span class="p">(</span><span class="n">col_features</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;x1&#39;</span><span class="p">,</span> <span class="s1">&#39;x2&#39;</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>                                <span class="n">label_col</span><span class="o">=</span><span class="s1">&#39;label&#39;</span><span class="p">,</span> <span class="n">pred_col</span><span class="o">=</span><span class="s1">&#39;pred&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                                <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">reg_metrics</span><span class="o">.</span><span class="n">get_metrics</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># or using:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">reg_metrics</span><span class="o">.</span><span class="n">r2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">reg_metrics</span><span class="o">.</span><span class="n">mse</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">reg_metrics</span><span class="o">.</span><span class="n">rmse</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">reg_metrics</span><span class="o">.</span><span class="n">mae</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">reg_metrics</span><span class="o">.</span><span class="n">msr</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>col_features</strong> – Column name of features values;</li>
<li><strong>label_col</strong> – Column name of true label values;</li>
<li><strong>pred_col</strong> – Column name of predicted label values;</li>
<li><strong>data</strong> – DDF.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="ddf_library.functions.ml.evaluation.RegressionMetrics.get_metrics">
<code class="descname">get_metrics</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ddf_library.functions.ml.evaluation.RegressionMetrics.get_metrics" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A pandas DataFrame with metrics.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="ddf_library.functions.ml.clustering.html"
                        title="previous chapter">ML.Clustering</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="ddf_library.functions.ml.feature.html"
                        title="next chapter">ML.Feature</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="ddf_library.functions.ml.feature.html" title="ML.Feature"
             >next</a> |</li>
        <li class="right" >
          <a href="ddf_library.functions.ml.clustering.html" title="ML.Clustering"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">DDF</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="api.html" >API Reference</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="ddf_library.html" >DDF operations</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2019, Lucas M Ponce.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.7.
    </div>
  </body>
</html>