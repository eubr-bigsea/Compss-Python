# Machine Learning Operations:


## Feature Assembler:

Feature Assembler is a transformer that combines a given list of columns into a single vector column. It is useful for combining raw features and features generated by different feature transformers into a single feature vector, in order to train ML models.

This implementation accepts the following input column types: all numeric types, boolean type, and vector type. In each row, the values of the input columns will be concatenated into a vector in the specified order.

```bash
    FeatureAssemblerOperation():
    :param df:      Input DataFrame;
    :param cols:    List of valid columns to be assembled;
    :param alias:   Name of the new column.
    :return         A new DataFrame with the feature.
```


## Feature Indexer:

Indexes a feature by encoding a string column as a column containing indexes.

```bash
        FeatureIndexerOperation():
        :param data:            A list with numFrag pandas's dataframe;
        :param settings:        A dictionary that contains:
            - 'inputCol':       Field to perform the operation,
            - 'outputCol':      Alias to the converted field (default, add a suffix '_indexed');
            - 'IndexToString':  False to convert String into Indexes (integers), 
                                True to convert back this Indexes into the original Strings (if True, you need inform the 'model' too);
            - 'model':          A model created by the FeatureIndexerOperation;
        :param numFrag:         A number of fragments;
		:return                 Returns a new dataframe with the indexed field.

```

## Load Model from HDFS:

Load a machine learning model from a HDFS source.

```bash
    LoadModelFromHDFS():
    :param settings: A dictionary with:
        - path:      The path of the file from the / of the HDFS;
        - host:      The host of the Namenode HDFS; (default, 'default' ie, will use the core-site.xml)
        - port:      Port of the Namenode HDFS; (default, 0)
    :return:         Returns a model (a dictionary)
```


## Save Model into HDFS:

Save a machine learning model in HDFS.

```bash
    SaveModelToHDFS():
    :param settings:  A dictionary with:
        - path:       The path of the file from the '/' of the HDFS;
        - host:       The host of the Namenode HDFS; (default, 'default')
        - port:       Port of the Namenode HDFS; (default, 0)
        - overwrite:  True if overwrite in case of colision name, False to raise a error.
```

## Principal component analysis (PCA):

Principal component analysis (PCA) is a statistical method to find a rotation such that the first coordinate has the largest variance possible, and each succeeding coordinate in turn has the largest variance possible. PCA is used widely in dimensionality reduction.


```bash

    fit():

    :param data:        A list with numFrag pandas's dataframe used to create the model.
    :param settings:    A dictionary that contains:
        - features:     Field of the features in the dataset;
        - NComponents:  Number of wanted dimensionality (int, 0 < NComponents <= dim(features)).
    :param numFrag:     A number of fragments;
    :return:            Returns a model (which is a pandas dataframe).



    transform():

    :param data:     A list with numFrag pandas's dataframe.
    :param model:    The pca model created;
    :param settings: A dictionary that contains:
        - features: 	Field of the features data;
        - predCol:   Alias to the new features field;
    :param numFrag:  A number of fragments;
    :return:         A list with numFrag pandas's dataframe (in the same input format).

```